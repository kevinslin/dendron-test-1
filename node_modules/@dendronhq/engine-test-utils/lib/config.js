"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ConfigUtils = void 0;
const engine_server_1 = require("@dendronhq/engine-server");
const common_server_1 = require("@dendronhq/common-server");
class ConfigUtils {
}
exports.ConfigUtils = ConfigUtils;
ConfigUtils.getConfig = (opts) => {
    const configPath = engine_server_1.DConfig.configPath(opts.wsRoot);
    const config = common_server_1.readYAML(configPath);
    return config;
};
ConfigUtils.withConfig = (func, opts) => {
    const config = ConfigUtils.getConfig(opts);
    const newConfig = func(config);
    ConfigUtils.writeConfig({ config: newConfig, wsRoot: opts.wsRoot });
    return newConfig;
};
ConfigUtils.writeConfig = (opts) => {
    const configPath = engine_server_1.DConfig.configPath(opts.wsRoot);
    return common_server_1.writeYAML(configPath, opts.config);
};
//# sourceMappingURL=config.js.map